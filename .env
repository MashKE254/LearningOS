# ============================================
# EduForge Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================
# DATABASE
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL='postgresql://neondb_owner:npg_hYgTdFIo84PO@ep-dry-waterfall-aijrzmt3-pooler.c-4.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require'


# For Supabase (if using):
# DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# ============================================
# AUTHENTICATION
# ============================================
# JWT secret key (minimum 32 characters)
# Generate one: openssl rand -base64 32
JWT_SECRET="mUp+oO0x00LZJMDCNgDdIiCowiRGHVChLn5HEAy3kcg="

# Session expiry (default: 7 days)
SESSION_EXPIRY="7d"

# ============================================
# API SERVER
# ============================================
# Backend API port
PORT=3001

# Frontend URL (for CORS)
FRONTEND_URL="http://localhost:3000"

# Node environment
NODE_ENV="development"

# ============================================
# FRONTEND (Next.js)
# ============================================
# API URL for frontend to call
NEXT_PUBLIC_API_URL="http://localhost:3001"

# App URL
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# AI / LLM
# ============================================
# Anthropic API Key (for Claude models)
# Get yours at: https://console.anthropic.com/
ANTHROPIC_API_KEY="sk-ant-api03-your-key-here"

# OpenAI API Key (optional, for embeddings)
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-key-here"

# ============================================
# VECTOR DATABASE (for RAG)
# ============================================
# Pinecone (optional, for curriculum RAG)
# Get yours at: https://www.pinecone.io/
PINECONE_API_KEY="pcsk_4fWU74_GFdfSA2KdQfJjj4dZCbKcVXBc7kp2idQ18PFytKvrVStMw3BinPdMrVAiJJzft4"
PINECONE_INDEX="eduforge-curriculum"
PINECONE_ENVIRONMENT="us-east-1"

# ============================================
# PAYMENTS (Stripe)
# ============================================
# Stripe API Keys
# Get yours at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# ============================================
# EMAIL (Optional)
# ============================================
# Resend API Key
# Get yours at: https://resend.com/api-keys
RESEND_API_KEY="re_your-resend-api-key"

# Or SendGrid
SENDGRID_API_KEY="SG.your-sendgrid-api-key"

# From email address
EMAIL_FROM="EduForge <noreply@eduforge.ai>"

# ============================================
# FILE STORAGE (Optional)
# ============================================
# AWS S3 or compatible (for file uploads)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="eduforge-uploads"

# Or Cloudflare R2
R2_ACCOUNT_ID="your-r2-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key"
R2_SECRET_ACCESS_KEY="your-r2-secret-key"
R2_BUCKET="eduforge-uploads"

# ============================================
# ANALYTICS (Optional)
# ============================================
# PostHog
NEXT_PUBLIC_POSTHOG_KEY="phc_your-posthog-key"
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# ============================================
# OAUTH PROVIDERS (Optional)
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Microsoft OAuth (for school integrations)
MICROSOFT_CLIENT_ID="your-microsoft-client-id"
MICROSOFT_CLIENT_SECRET="your-microsoft-client-secret"

# Clever (for K-12 school SSO)
CLEVER_CLIENT_ID="your-clever-client-id"
CLEVER_CLIENT_SECRET="your-clever-client-secret"

# ============================================
# RATE LIMITING
# ============================================
# AI requests per minute per user
AI_RATE_LIMIT_PER_MINUTE=20

# API requests per minute per IP
API_RATE_LIMIT_PER_MINUTE=100

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
ENABLE_PAYMENTS=false
ENABLE_OAUTH=false
ENABLE_ANALYTICS=false
ENABLE_FILE_UPLOADS=false
